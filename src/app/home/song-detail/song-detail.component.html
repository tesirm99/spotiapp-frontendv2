<!-- eslint-disable @angular-eslint/template/eqeqeq -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="#"></ion-back-button>
    </ion-buttons>
    <ion-title> SpotiApp (PONER UN LOGO) </ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="isLoggedIn"> Add song </ion-button>
      <ion-button *ngIf="isLoggedIn" (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
        Logout
      </ion-button>
      <ion-button *ngIf="!isLoggedIn" (click)="showLogin()"> Login </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div style="display: grid; place-items: center">
    <ion-card *ngIf="song" style="width: 500px">
      <ion-img [src]="song.image" alt="song image" />
      <ion-card-header>
        <ion-card-subtitle>{{ song.artist }}</ion-card-subtitle>
        <ion-card-title>{{ song.name }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-row>
                <h2><ion-text>Duration: {{ song.duration }}</ion-text></h2>
              </ion-row>
              <ion-row>
                <h2><ion-text>Genre: {{ song.genre }}</ion-text></h2>
              </ion-row>
              <ion-row>
                <h2><ion-text>Released on: {{ song.releaseDate }}</ion-text></h2>
              </ion-row>
            </ion-col>
            <ion-col>
              <ion-row>
                <h2><ion-text>Album: {{ song.album }}</ion-text></h2>
              </ion-row>
              <ion-row>
                <h2><ion-text>Popularity: {{ song.popularity }}</ion-text></h2>
              </ion-row>
              <ion-row>
                <h2><ion-text>Added from: {{ song.geolocation }}</ion-text></h2>
              </ion-row>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
      <ion-button *ngIf="isLoggedIn" (click)="handleDeleteAlert(song._id!)" color="danger" style="margin-left:20px;margin-bottom:20px;">Delete</ion-button>
    </ion-card>
  </div>
  <div *ngIf="song">
    <app-comments [songId]="song._id"></app-comments>
  </div>
</ion-content>
